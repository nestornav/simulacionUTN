{% extends "bootstrap/base.html" %}
{% block title %}Final Simulación, Ejercicio 226{% endblock %}

{% block navbar %}
<div class="navbar navbar-fixed-top">
  <!-- ... -->
</div>
{% endblock %}

{% block content %}
  <h1>Hello, {{name}}</h1>

  <form method="post" action="{{url_for('run_simulation')}}">
  	<div id="params" class="row">
  		<div class="col-md-5">
  			<h4>Par&aacute;metrosTiempo de Respueta Base de Datos</h4>
  			<label>Media</label>
		  	<input id="media_respuesta" name="media_respuesta" type="number" value="{{media_respuesta}}"/>
		  
		  	<label>Desviaci&oacute;n</label>
		  	<input id="desv_respuesta" name="desv_respuesta" type="number" value="{{desv_respuesta}}"/>
  		</div>

  		<div class="col-md-4">
  			<h4>Par&aacute;metros Tiempo Ejecución Terminales</h4>
  			<label>Media</label>
		  	<input id="media_consulta" name="media_consulta" type="number" value="{{media_consulta}}"/>
  		</div>
      
      <div class="col-md-3">
        <h4>Cantitdad de Corridas</h4>
        <label>Cantidad</label>
        <input id="numero_corridas" name="numero_corridas" type="number" value="{{numero_corridas}}"/>
		    <button class="btn btn-primary" type="submit">Ejecutar</button>
      </div>
  	</div>    

  	<div>

      <h3>Iteraciones del Modelo</h3>
  		<table id="data" class="table table-hover table-striped">
  			<thead>
		      <tr>
            <th>Iteraci&oacute;n</th>
		        <th>Reloj</th>
		        <th>Evento</th>		        
		        <th>Tiempo</th>
		        <th>Reloj</th>
		        <th>Estado DB</th>		        
		        <th>Tiempo</th>		        
		        <th>Proc. Activo</th>
            <th>DB Ocupada</th>
            <th>Tiempo Ocioso</th>
		      </tr>
    		</thead>
    		
    		<tbody>

          {% for resultado in (resultados or []) %}
            <tr>
              <td>{{resultado.iteration}}</td>
              <td>{{resultado.reloj}}</td>
              <td>{{resultado.evento}}</td>
              <td>{{resultado.tiempo_consulta_rnd}}</td>
              <td>{{resultado.tiempo_consulta_total}}</td>
              <td>{{resultado.tiempo_respuesta_rnd_db}}</td>
              <td>{{resultado.tiempo_respuesta_total}}</td>
              <td>{{resultado.procesos_activos}}</td>
              <!--<td>{% if resultado.procesos_activos %} Si {% else %} No {% endif %}</td>-->
              <td>{% if resultado.db_ocupada %} Si {% else %} No {% endif %}</td>
              <td>{{resultado.tiempo_ocioso}}</td>
            </tr>
          {%endfor%}
    		</tbody>
  		</table>
  	</div>
  </form>
{% endblock %}
